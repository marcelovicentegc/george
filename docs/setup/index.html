<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Setup | George</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Setup | George"><meta data-react-helmet="true" name="description" content="Docker [recommended]"><meta data-react-helmet="true" property="og:description" content="Docker [recommended]"><meta data-react-helmet="true" property="og:url" content="https://marcelovicentegc.github.io/george/george/docs/setup"><link data-react-helmet="true" rel="shortcut icon" href="/george/img/george-favicon.png"><link data-react-helmet="true" rel="canonical" href="https://marcelovicentegc.github.io/george/george/docs/setup"><link rel="stylesheet" href="/george/styles.4c108b60.css">
<link rel="preload" href="/george/styles.f1bd6507.js" as="script">
<link rel="preload" href="/george/runtime~main.2a6e6ab3.js" as="script">
<link rel="preload" href="/george/main.ef1a1bee.js" as="script">
<link rel="preload" href="/george/1.3a95f2f6.js" as="script">
<link rel="preload" href="/george/2.26030897.js" as="script">
<link rel="preload" href="/george/17.048cb4c6.js" as="script">
<link rel="preload" href="/george/18.de76e7c2.js" as="script">
<link rel="preload" href="/george/852cb447.c92f641a.js" as="script">
<link rel="preload" href="/george/17896441.c464a027.js" as="script">
<link rel="preload" href="/george/5d8674c2.dd61b021.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/george/"><img class="navbar__logo" src="/george/img/george.png" alt="George logo"><strong class="navbar__title">George</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/george/docs/setup">Docs</a><a href="https://github.com/marcelovicentegc/george" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/george/"><img class="navbar__logo" src="/george/img/george.png" alt="George logo"><strong class="navbar__title">George</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/george/docs/setup">Docs</a></li><li class="menu__list-item"><a href="https://github.com/marcelovicentegc/george" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/george/docs/setup">Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/george/docs/config">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/george/docs/iot">IoT setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/george/docs/what-you-will-need">What you will need</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/george/docs/useful-resources">Useful resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/george/docs/contrib">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/george/docs/code-of-conduct">Code of Conduct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/george/docs/roadmap">Roadmap</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Setup</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="docker-recommended"></a>Docker [recommended]<a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker-recommended" title="Direct link to heading">#</a></h2><p>In progress...</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="host-installation"></a>Host installation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#host-installation" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fast-setup-"></a>Fast setup ‚è©<a aria-hidden="true" tabindex="-1" class="hash-link" href="#fast-setup-" title="Direct link to heading">#</a></h3><p>If you don&#x27;t want to go through each of these steps, I separated a script to do some of the boring stuff for you, <a href="/george/setup.sh">here</a>. <strong>Please, read this before running it.</strong> This scripts installs the following software on your machine:</p><ul><li>Mosquitto</li><li>Redis</li><li>SQLite</li><li>UFW</li><li>Nginx</li><li>Node</li><li>PM2</li></ul><p>and enables these programs to start on the system&#x27;s boot:</p><ul><li>Mosquitto</li><li>Redis</li><li>UFW</li></ul><p>It also adds Nginx to the UFW&#x27;s list of allowed ports, as well as configures the UFW to allow outgoing requests from the machine which it is being installed.</p><p>This script doesn&#x27;t do everything, you will still want to <a href="/george/docs/setup#testing-the-mqtt-broker-">test Mosquitto</a>, <a href="/george/docs/setup#testing-redis-connection">test Redis</a>, and <a href="/george/docs/setup#installing-nginx-">configure Nginx, clone the repo and configure PM2</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-hard-way-setup-"></a>The hard way setup üèã<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-hard-way-setup-" title="Direct link to heading">#</a></h3><p>First of all, update your O.S. deps: <code>sudo apt update &amp;&amp; sudo apt upgrade</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installing-the-mqtt-broker-"></a>Installing the MQTT broker üòã<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installing-the-mqtt-broker-" title="Direct link to heading">#</a></h4><ol><li>Install Mosquitto: <code>sudo apt-get install -y mosquitto mosquitto-clients</code></li><li>Enable Mosquitto to start on boot: <code>sudo systemctl enable mosquitto.service</code></li><li>Check Mosquitto&#x27;s version: <code>mosquitto -v</code></li><li>To use the Mosquitto broker, you&#x27;ll need your Raspberry Pi&#x27;s IP address, check it out by typing: <code>hostname -I</code></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing-the-mqtt-broker-"></a>Testing the MQTT broker üìû<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing-the-mqtt-broker-" title="Direct link to heading">#</a></h4><ol><li>Run Mosquitto as a daemon: <code>mosquitto -d</code></li><li>Subscribe to a <code>testTopic</code>: <code>mosquitto_sub -d -t testTopic</code></li><li>Open another terminal and publish a message to <code>testTopic</code>: <code>mosquitto_pub -d -t testTopic -m &quot;Hello world!&quot;</code></li><li>Open one more terminal and subscribe to <code>testTopic</code>: <code>mosquitto_sub -d -t testTopic</code></li><li>Again, on the second window, publish another message to <code>testTopic</code>: <code>mosquitto_pub -d -t testTopic -m &quot;Hello world again!&quot;</code></li><li>Unsubscribe topic: <code>mosquitto_sub -t testTopic -U testTopic -v</code></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installing-redis-server-"></a>Installing Redis Server üìù<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installing-redis-server-" title="Direct link to heading">#</a></h4><ol><li>Install Redis: <code>sudo apt-get install redis-server</code></li><li>Enable Redis to start on system boot: <code>sudo systemctl enable redis-server.service</code></li><li>If you need to make any changes to Redis configuration, head to: <code>/etc/redis/redis.conf</code><ol><li>I.g.: If you need to adjust the max memory limit used by Redis, you can update it by <code>sudo vim /etc/redis/redis.conf</code>ing and altering the <code>maxmemory</code> line.</li></ol></li><li>After configuring it, restart it: <code>sudo systemctl restart redis-server.service</code></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing-redis-connection"></a>Testing Redis connection<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing-redis-connection" title="Direct link to heading">#</a></h4><ol><li>Test connection:</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $ redis-cli</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">9</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ping</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  PONG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">9</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installing-ufw"></a>Installing UFW<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installing-ufw" title="Direct link to heading">#</a></h4><ol><li>Install <code>ufw</code>: <code>sudo apt install ufw</code></li><li>Set up default Firewall policies by running: <code>sudo ufw default deny incoming</code>, followed by <code>sudo ufw default allow outgoing</code></li><li>Allow SSH connections: <code>sudo ufw allow OpenSSH</code></li><li>Enable UFW: <code>sudo ufw enable</code></li><li>Check if it&#x27;s status is ok: <code>sudo ufw status verbose</code></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installing-nginx-"></a>Installing Nginx üñ•<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installing-nginx-" title="Direct link to heading">#</a></h4><ol><li><p>Install <code>nginx</code>: <code>sudo apt-get install nginx</code></p></li><li><p>Allow HTTP connections: <code>sudo ufw allow &#x27;Nginx HTTP&#x27;</code></p></li><li><p>Start the server: <code>sudo /etc/init.d/nginx start</code></p></li><li><p>Get the Raspberry&#x27;s IP address: <code>hostname -I</code></p></li><li><p>Make sure the web server is up and running: <code>systemctl status nginx</code> should return</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">‚óè nginx.service - A high performance web server and a reverse proxy server</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/lib/systemd/system/nginx.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Fri </span><span class="token number" style="color:rgb(247, 140, 108)">2018</span><span class="token plain">-04-20 </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token plain">:08:19 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> days ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Docs: man:nginx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">2369</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">nginx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Tasks: </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">limit: </span><span class="token number" style="color:rgb(247, 140, 108)">1153</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CGroup: /system.slice/nginx.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ‚îú‚îÄ2369 nginx: master process /usr/sbin/nginx -g daemon on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> master_process on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ‚îî‚îÄ2380 nginx: worker process</span></div></div></div></div></div></li><li><p>Set up Nginx as a Reverse Proxy Server: - Open <code>/etc/nginx/sites-available/example.com</code> for editing</p><ol><li>Replace the contents of the <code>location /</code> block</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-nginx codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_pass http://localhost:4000;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Upgrade $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Connection &#x27;upgrade&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Host $host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_cache_bypass $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div></div></div></div></div></li><li><p>Test the webserver by heading to the Raspberry&#x27;s IP. You should see Nginx&#x27;s fallback HTML page.</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="installing-pm2-and-testing-george"></a>Installing PM2 and testing George<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installing-pm2-and-testing-george" title="Direct link to heading">#</a></h4><ol><li><p>Install <a href="http://pm2.keymetrics.io/" target="_blank" rel="noopener noreferrer">PM2</a> (a process manager for Node.js applications): <code>sudo npm install pm2@latest -g</code></p></li><li><p>Clone the repository: <code>git clone https://github.com/marcelovicentegc/george.git</code></p></li><li><p>Change directory into <code>george</code>: <code>cd george</code></p></li><li><p>Install dependencies: <code>npm i</code></p></li><li><p>Build the application: <code>npm run build</code></p></li><li><p>Test the application</p><ol><li><code>npm run launch</code></li><li><code>curl http://localhost:4000</code></li></ol></li><li><p>Run the george&#x27;s main application in the background: <code>NODE_ENV=production pm2 start dist/server/index.js</code></p></li><li><p>Applications that are running under PM2 will be restarted automatically if they crash or are killed, but we can take an additional step to get the application to launch on system startup using the <code>startup</code> subcommand. This subcommand generates and configures a startup script to launch PM2 and its managed processes on server boots: <code>pm2 startup systemd</code></p><ul><li>The last line of the resulting output will include a command to run with superuser privileges in order to set PM2 to start on boot:</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">PM2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Init System found: systemd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">PM2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> To setup the Startup Script, copy/paste the following command:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">env</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PATH</span><span class="token plain">:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u pi --hp /home/pi</span></div></div></div></div></div><ul><li>Run the command from the output: <code>sudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u pi --hp /home/pi</code></li></ul></li><li><p>As an additional step, we can save the PM2 process list and corresponding environments: <code>pm2 save</code></p></li><li><p>Start the service with <code>systemctl</code>: <code>sudo systemctl start pm2-pi</code></p><ul><li>Note: if this command raises an error, reboot the server (<code>sudo reboot</code>) and run it again as soon as you ssh in.</li></ul></li><li><p>Check the status of systemd unit: <code>systemctl status pm2-pi</code></p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="last-steps-"></a>Last steps üèÅ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#last-steps-" title="Direct link to heading">#</a></h4><ol><li><p>Managing PM2:</p><ol><li>Stop an application: <code>pm2 stop &lt;app_name_or_id&gt;</code></li><li>Restart an application: <code>pm2 restart &lt;app_name_or_id&gt;</code></li><li>List applications currently managed by PM2: <code>pm2 list</code></li><li>Get information about a specific application using its <code>App name</code>: <code>pm2 info &lt;app_name&gt;</code></li><li>The PM2 process monitor can be pulled up with the <code>monit</code> subcommand. This displays the application status, CPU, and memory usage: <code>pm2 monit</code></li></ol></li><li><p>Managing the Nginx Process:</p><ol><li>To stop the web server: <code>sudo systemctl stop nginx</code></li><li>To start the web server: <code>sudo systemcl start nginx</code></li><li>To stop and start the service again: <code>sudo systemctl restart nginx</code></li><li>To reload the service without dropping connection: <code>sudo systemctl reload nginx</code></li><li>By default, Nginx is configured to start automatically when the server boots. If this is not what you want, you can disable this behavior by typing: <code>sudo systemctl disable nginx</code></li><li>To re-enable the service: <code>sudo systemctl enable nginx</code></li></ol></li><li><p>Setting up Nginx&#x27;s Server Blocks:</p><ol><li><p>Add a server block to <code>example.com</code>: <code>sudo vi /etc/nginx/sites-available/example.com</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-nginx codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen [::]:80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root /home/pi/project/dist/index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index index.html index.htm index.nginx-debian.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            server_name example.com www.example.com;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    try_files $uri $uri/ =404;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div></div></div></li><li><p>Enable the file by creating a symbolic link from it to the <code>sites-enabled</code> directory, which Nginx reads from during startup: <code>sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled</code></p></li><li><p>To avoid possible hash bucket memory problem that can arise from adding additional server names, it is necessary to adjust a single value in the <code>/etc/nginx/nginx.conf</code> file. Open it (code editor of your choice) and find the <code>server_names_hash_bucket_size</code> directive and uncomment that line.</p></li><li><p>Test for syntax errors in any of Nginx files: <code>sudo nginx -t</code></p></li><li><p>Restart Nginx to enable the changes: <code>sudo systemctl restart nginx</code></p></li></ol></li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/marcelovicentegc/george/edit/docs/docs/docs/PRODUCTION_DIRECTIONS.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/george/docs/config"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#docker-recommended" class="table-of-contents__link">Docker recommended</a></li><li><a href="#host-installation" class="table-of-contents__link">Host installation</a><ul><li><a href="#fast-setup-" class="table-of-contents__link">Fast setup ‚è©</a></li><li><a href="#the-hard-way-setup-" class="table-of-contents__link">The hard way setup üèã</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Tutorial</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/george/docs/config/">Configuration</a></li><li class="footer__item"><a class="footer__link-item" href="/george/docs/setup/">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/george/docs/iot/">IoT setup</a></li><li class="footer__item"><a class="footer__link-item" href="/george/docs/what-you-will-need">What you will need</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contributing</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/george/docs/contrib/">Guidelines</a></li><li class="footer__item"><a class="footer__link-item" href="/george/docs/code-of-conduct/">Code of Conduct</a></li><li class="footer__item"><a class="footer__link-item" href="/george/docs/roadmap/">Roadmap</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Miscellaneous</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/george/docs/useful-resources/">Useful resources</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="George Logo" src="/george/img/george-favicon.png"></div><div>Copyright ¬© 2020 - Marcelo Cardoso. Built with Docusaurus.</div></div></div></footer></div>
<script src="/george/styles.f1bd6507.js"></script>
<script src="/george/runtime~main.2a6e6ab3.js"></script>
<script src="/george/main.ef1a1bee.js"></script>
<script src="/george/1.3a95f2f6.js"></script>
<script src="/george/2.26030897.js"></script>
<script src="/george/17.048cb4c6.js"></script>
<script src="/george/18.de76e7c2.js"></script>
<script src="/george/852cb447.c92f641a.js"></script>
<script src="/george/17896441.c464a027.js"></script>
<script src="/george/5d8674c2.dd61b021.js"></script>
</body>
</html>